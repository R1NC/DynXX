{
  "version": 6,
  "cmakeMinimumRequired": {
    "major": 3,
    "minor": 23,
    "patch": 0
  },
  "configurePresets": [
    {
      "name": "Common",
      "hidden": true,
      "displayName": "Common Settings",
      "description": "Shared settings for builds across all platforms",
      "binaryDir": "${sourceDir}/$env{BUILD_FOLDER}",
      "cacheVariables": {
        "CMAKE_ARCHIVE_OUTPUT_DIRECTORY": "$env{OUTPUT_LIB_PATH}",
        "CMAKE_LIBRARY_OUTPUT_DIRECTORY": "$env{OUTPUT_LIB_PATH}",
        "CMAKE_RUNTIME_OUTPUT_DIRECTORY": "$env{OUTPUT_EXE_PATH}"
      }
    },
    {
      "name": "Debug-Default",
      "hidden": true,
      "displayName": "Default Debug Settings",
      "description": "Default settings for Debug builds across all platforms",
      "inherits": ["Common"],
      "generator": "Unix Makefiles",
      "cacheVariables": {
        "CMAKE_BUILD_TYPE": "Debug"
      }
    },
    {
      "name": "Release-Default",
      "hidden": true,
      "displayName": "Default Release Settings",
      "description": "Default settings for Release builds across all platforms",
      "inherits": ["Common"],
      "generator": "Ninja",
      "cacheVariables": {
        "CMAKE_BUILD_TYPE": "Release"
      }
    },
    {
      "name": "Vcpkg-Default",
      "hidden": true,
      "displayName": "Vcpkg default Settings",
      "description": "Shared settings for vcpkg",
      "cacheVariables": {
        "CMAKE_TOOLCHAIN_FILE": "$env{VCPKG_ROOT}/scripts/buildsystems/vcpkg.cmake",
        "VCPKG_TARGET_TRIPLET": "$env{VCPKG_TARGET}"
      }
    },
    {
      "name": "Linux-Debug",
      "displayName": "Linux Debug Config",
      "description": "Debug build for Linux",
      "inherits": ["Debug-Default", "Vcpkg-Default"],
      "condition": {
        "type": "allOf",
        "conditions": [
          {
            "type": "equals",
            "lhs": "${hostSystemName}",
            "rhs": "Linux"
          },
          {
            "type": "matches",
            "string": "$env{BUILD_FOLDER}",
            "regex": ".*[Ll]inux.*"
          }
        ]
      }
    },
    {
      "name": "Linux-Release",
      "displayName": "Linux Release Config",
      "description": "Release build for Linux",
      "inherits": ["Release-Default", "Vcpkg-Default"],
      "condition": {
        "type": "allOf",
        "conditions": [
          {
            "type": "equals",
            "lhs": "${hostSystemName}",
            "rhs": "Linux"
          },
          {
            "type": "matches",
            "string": "$env{BUILD_FOLDER}",
            "regex": ".*[Ll]inux.*"
          }
        ]
      }
    },
    {
      "name": "Wasm-Default",
      "hidden": true,
      "displayName": "Wasm Default Config",
      "description": "Default build for Wasm",
      "cacheVariables": {
        "EMSCRIPTEN_ROOT_PATH": "$env{WASM_SDK_ROOT}",
        "EMSCRIPTEN_SYSTEM_PROCESSOR": "$env{WASM_ABI}",
        "VCPKG_CHAINLOAD_TOOLCHAIN_FILE": "$env{WASM_SDK_ROOT}/cmake/Modules/Platform/Emscripten.cmake"
      }
    },
    {
      "name": "Wasm-Debug",
      "displayName": "Wasm Debug Config",
      "description": "Debug build for Wasm",
      "inherits": ["Debug-Default", "Vcpkg-Default", "Wasm-Default"],
      "condition": {
        "type": "matches",
        "string": "$env{BUILD_FOLDER}",
        "regex": ".*[Ww]asm.*"
      }
    },
    {
      "name": "Wasm-Release",
      "displayName": "Wasm Release Config",
      "description": "Release build for Wasm",
      "inherits": ["Release-Default", "Vcpkg-Default", "Wasm-Default"],
      "condition": {
        "type": "matches",
        "string": "$env{BUILD_FOLDER}",
        "regex": ".*[Ww]asm.*"
      }
    },
    {
      "name": "Darwin-Default",
      "hidden": true,
      "displayName": "Apple Darwin Default Config",
      "description": "Default build for Apple Darwin",
      "cacheVariables": {
        "PLATFORM": "$env{APPLE_PLATFORM}",
        "ARCHS": "$env{APPLE_ABI}",
        "DEPLOYMENT_TARGET": "$env{APPLE_VER}",
        "VCPKG_CHAINLOAD_TOOLCHAIN_FILE": "$env{APPLE_TOOLCHAIN_FILE}"
      }
    },
    {
      "name": "iOS-Default",
      "hidden": true,
      "displayName": "Apple iOS Default Config",
      "description": "Default build for Apple iOS",
      "inherits": ["Darwin-Default"],
      "cacheVariables": {
        "CMAKE_SYSTEM_NAME": "iOS"
      }
    },
    {
      "name": "iOS-Debug",
      "displayName": "iOS Debug Config",
      "description": "Debug build for iOS",
      "inherits": ["Debug-Default", "Vcpkg-Default", "iOS-Default"],
      "generator": "Xcode",
      "condition": {
        "type": "allOf",
        "conditions": [
          {
            "type": "matches",
            "string": "${hostSystemName}",
            "regex": ".*[Dd]arwin.*"
          },
          {
            "type": "matches",
            "string": "$env{BUILD_FOLDER}",
            "regex": ".*[Ii][Oo][Ss].*"
          }
        ]
      }
    },
    {
      "name": "iOS-Release",
      "displayName": "iOS Release Config",
      "description": "Release build for iOS",
      "inherits": ["Release-Default", "Vcpkg-Default", "iOS-Default"],
      "condition": {
        "type": "allOf",
        "conditions": [
          {
            "type": "matches",
            "string": "${hostSystemName}",
            "regex": ".*[Dd]arwin.*"
          },
          {
            "type": "matches",
            "string": "$env{BUILD_FOLDER}",
            "regex": ".*[Ii][Oo][Ss].*"
          }
        ]
      }
    },
    {
      "name": "macOS-Debug",
      "displayName": "macOS Debug Config",
      "description": "Debug build for macOS",
      "inherits": ["Debug-Default", "Vcpkg-Default", "Darwin-Default"],
      "generator": "Xcode",
      "condition": {
        "type": "allOf",
        "conditions": [
          {
            "type": "matches",
            "string": "${hostSystemName}",
            "regex": ".*[Dd]arwin.*"
          },
          {
            "type": "matches",
            "string": "$env{BUILD_FOLDER}",
            "regex": ".*[Mm][Aa][Cc][Oo][Ss].*"
          }
        ]
      }
    },
    {
      "name": "macOS-Release",
      "displayName": "macOS Release Config",
      "description": "Release build for macOS",
      "inherits": ["Release-Default", "Vcpkg-Default", "Darwin-Default"],
      "condition": {
        "type": "allOf",
        "conditions": [
          {
            "type": "matches",
            "string": "${hostSystemName}",
            "regex": ".*[Dd]arwin.*"
          },
          {
            "type": "matches",
            "string": "$env{BUILD_FOLDER}",
            "regex": ".*[Mm][Aa][Cc][Oo][Ss].*"
          }
        ]
      }
    },
    {
      "name": "Android-Default",
      "hidden": true,
      "displayName": "Android Default Config",
      "description": "Default build for Android",
      "cacheVariables": {
        "CMAKE_SYSTEM_NAME": "Android",
        "ANDROID_TOOLCHAIN": "clang",
        "CMAKE_ANDROID_NDK": "$env{ANDROID_NDK_HOME}",
        "VCPKG_CHAINLOAD_TOOLCHAIN_FILE": "$env{ANDROID_NDK_HOME}/build/cmake/android.toolchain.cmake",
        "ANDROID_ABI": "$env{ANDROID_ABI}",
        "ANDROID_PLATFORM": "$env{ANDROID_VER}"
      }
    },
    {
      "name": "Android-Debug",
      "displayName": "Android Debug Config",
      "description": "Debug build for Android",
      "inherits": ["Debug-Default", "Vcpkg-Default", "Android-Default"],
      "condition": {
        "type": "matches",
        "string": "$env{BUILD_FOLDER}",
        "regex": ".*[Aa]ndroid.*"
      }
    },
    {
      "name": "Android-Release",
      "displayName": "Android Release Config",
      "description": "Release build for Android",
      "inherits": ["Release-Default", "Vcpkg-Default", "Android-Default"],
      "condition": {
        "type": "matches",
        "string": "$env{BUILD_FOLDER}",
        "regex": ".*[Aa]ndroid.*"
      }
    },
    {
      "name": "HarmonyOS-Default",
      "hidden": true,
      "displayName": "HarmonyOS Default Config",
      "description": "Default build for HarmonyOS",
      "cacheVariables": {
        "CMAKE_TOOLCHAIN_FILE": "$env{OHOS_ROOT}/build/cmake/ohos.toolchain.cmake",
        "OHOS_PLATFORM": "OHOS",
        "OHOS_ARCH": "$env{OHOS_ABI}"
      }
    },
    {
      "name": "HarmonyOS-Debug",
      "displayName": "HarmonyOS Debug Config",
      "description": "Debug build for HarmonyOS",
      "inherits": ["Debug-Default", "HarmonyOS-Default"],
      "condition": {
        "type": "matches",
        "string": "$env{BUILD_FOLDER}",
        "regex": ".*[Hh]armonyOS.*"
      }
    },
    {
      "name": "HarmonyOS-Release",
      "displayName": "HarmonyOS Release Config",
      "description": "Release build for HarmonyOS",
      "inherits": ["Release-Default", "HarmonyOS-Default"],
      "condition": {
        "type": "matches",
        "string": "$env{BUILD_FOLDER}",
        "regex": ".*[Hh]armonyOS.*"
      }
    },
    {
      "name": "Windows-Debug",
      "displayName": "Windows Debug Config",
      "description": "Debug build for Windows",
      "inherits": ["Debug-Default", "Vcpkg-Default"],
      "toolset": "ClangCL",
      "generator": "Visual Studio 17 2022",
      "condition": {
        "type": "allOf",
        "conditions": [
          {
            "type": "equals",
            "lhs": "${hostSystemName}",
            "rhs": "Windows"
          },
          {
            "type": "matches",
            "string": "$env{BUILD_FOLDER}",
            "regex": ".*[Ww]indows.*"
          }
        ]
      }
    },
    {
      "name": "Windows-Release",
      "displayName": "Windows Release Config",
      "description": "Release build for Windows",
      "inherits": ["Release-Default", "Vcpkg-Default"],
      "cacheVariables": {
        "CMAKE_C_COMPILER": "clang-cl",
        "CMAKE_CXX_COMPILER": "clang-cl"
      },
      "condition": {
        "type": "allOf",
        "conditions": [
          {
            "type": "equals",
            "lhs": "${hostSystemName}",
            "rhs": "Windows"
          },
          {
            "type": "matches",
            "string": "$env{BUILD_FOLDER}",
            "regex": ".*[Ww]indows.*"
          }
        ]
      }
    }
  ],
  "buildPresets": [
    {
      "name": "Linux-Debug",
      "configurePreset": "Linux-Debug"
    },
    {
      "name": "Linux-Release",
      "configurePreset": "Linux-Release"
    },
    {
      "name": "Wasm-Debug",
      "configurePreset": "Wasm-Debug"
    },
    {
      "name": "Wasm-Release",
      "configurePreset": "Wasm-Release"
    },
    {
      "name": "iOS-Debug",
      "configurePreset": "iOS-Debug"
    },
    {
      "name": "iOS-Release",
      "configurePreset": "iOS-Release"
    },
    {
      "name": "macOS-Debug",
      "configurePreset": "macOS-Debug"
    },
    {
      "name": "macOS-Release",
      "configurePreset": "macOS-Release"
    },
    {
      "name": "Android-Debug",
      "configurePreset": "Android-Debug"
    },
    {
      "name": "Android-Release",
      "configurePreset": "Android-Release"
    },
    {
      "name": "HarmonyOS-Debug",
      "configurePreset": "HarmonyOS-Debug"
    },
    {
      "name": "HarmonyOS-Release",
      "configurePreset": "HarmonyOS-Release"
    },
    {
      "name": "Windows-Debug",
      "configurePreset": "Windows-Debug"
    },
    {
      "name": "Windows-Release",
      "configurePreset": "Windows-Release"
    }
  ]
}
